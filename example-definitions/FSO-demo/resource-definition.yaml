resources:
  - name: cluster
    count: 1
    childrenDistribution:
      namespace: 'distribution(3, 0, 0)'
      node: 'distribution(5, 0, 0)'
    attributes:
      k8s.cluster.name: '"cluster-".concat(alphanumericSequence("demoteam"))'
      k8s.cluster.id: '"clusterid-".concat(alphanumericSequence("demo1"))'
      telemetry.sdk.name: '"infra-agent"'
  - name: namespace
    count: 3
    childrenDistribution:
      deployment: 'distribution(1, 2, 2)'
    attributes:
      k8s.namespace.uid: 'alphanumericSequence("remodel").concat(".namespace")'
      k8s.namespace.name: 'counter("fso_demo")'
    attributeOperations:
      - 'copyFromParent("cluster", "k8s.cluster.name")'
      - 'copyFromParent("cluster", "k8s.cluster.id")'
      - 'copyFromParent("cluster", "telemetry.sdk.name")'
  - name: node
    count: 5
    childrenDistribution:
      pod: 'distribution(3, 0, 0)'
    attributes:
      k8s.node.uid: 'alphanumericSequence("remodel").concat(".node")'
      k8s.node.name: 'alphanumericSequence("amzc").concat(".node")'
      cloud.provider: 'roundRobin(["AWS"])'
      k8s.node.system.uuid: 'UUIDFromStringCounter("node")'
      cloud.host.instance.id: 'alphanumericSequence("io1").concat("-").concat(alphanumericSequence("taylbee"))'
      k8s.node.ip.internal: 'IPv4Sequence("10.134.1.101")'
      k8s.node.role: 'roundRobin(["master", "worker"])'
      k8s.node.labels: '{"app": ["tintin-service-label1","tintin-service-label2","tintin-service-label3"]}'
    attributeOperations:
      - 'copyFromParent("cluster", "k8s.cluster.name")'
      - 'copyFromParent("cluster", "k8s.cluster.id")'
      - 'copyFromParent("cluster", "telemetry.sdk.name")'
  - name: deployment
    count: 5
    childrenDistribution:
      pod: 'distribution(3, 0, 0)'
    attributes:
      k8s.deployment.uid: 'alphanumericSequence("remodel").concat(".deployment")'
      k8s.deployment.name: 'alphanumericSequence("nrec").concat(".deployment")'
    attributeOperations:
      - 'copyFromParent("namespace", "k8s.namespace.name")'
      - 'copyFromParent("namespace", "k8s.cluster.name")'
      - 'copyFromParent("namespace", "k8s.cluster.id")'
      - 'copyFromParent("namespace", "telemetry.sdk.name")'
  - name: pod
    count: 15
    childrenDistribution:
      container: 'distribution(2, 0, 0)'
    attributes:
      k8s.pod.ip: 'IPv4Sequence("153.29.54.1")'
      k8s.pod.status: 'roundRobin(["Running"])'
      k8s.pod.uid: 'alphanumericSequence("new.model").concat(".pod")'
      k8s.pod.name: 'alphanumericSequence("newz").concat(".pod")'
    attributeOperations:
      - 'copyFromParent("deployment", "k8s.cluster.name")'
      - 'copyFromParent("deployment", "k8s.cluster.id")'
      - 'copyFromParent("deployment", "k8s.deployment.name")'
      - 'copyFromParent("deployment", "k8s.namespace.name")'
      - 'copyFromParent("node", "k8s.node.uid")'
      - 'copyFromParent("node", "k8s.node.name")'
      - 'copyFromParent("node", "k8s.node.ip.internal")'
      - 'copyFromParent("node", "telemetry.sdk.name")'
      - 'modifyFromParent("deployment", "k8s.deployment.name", "k8s.pod.owner.name", "")'
  - name: container
    count: 30
    attributes:
      container.id: 'alphanumericSequence("iz1").concat("xr1f79").concat(alphanumericSequence("i5q")).concat("container")'
      container.id.short: 'alphanumericSequence("iz1").concat("xr1f79").concat(alphanumericSequence("i5q"))'
      container.name: 'alphanumericSequence("omat").concat(".container")'
      container.image.name: '"dtr.corp.appdynamics.com/".concat(roundRobin(["cps", "dpp", "dis", "fmm"])).concat("/").concat(alphanumericSequence("a1sat34x"))'
    attributeOperations:
      - 'copyFromParent("pod", "k8s.pod.name")'
      - 'copyFromParent("pod", "k8s.namespace.name")'
      - 'copyFromParent("pod", "telemetry.sdk.name")'
  - name: service
    count: 5
    childrenDistribution:
      service_instance: 'distribution(1, 0, 0)'
    attributes:
      service.name: '"service-".concat(alphanumericSequence("demo-test"))'
      service.namespace: 'counter("fso_demo")'
      telemetry.sdk.name: '"apm-agent"'
  - name: service_instance
    count: 5
    attributeOperations:
      - 'modifyFromParent("service", "service.name", "service.instance.id", "-instance")'
      - 'copyFromParent("service", "service.namespace")'
      - 'copyFromParent("service", "service.name")'
      - 'copyFromParent("service", "telemetry.sdk.name")'